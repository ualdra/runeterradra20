(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{FIae:function(t,e,a){"use strict";a.r(e),a.d(e,"GameReplayModule",(function(){return m}));var n=a("ofXK"),r=a("tk/3"),i=a("fXoL");let s=(()=>{class t{constructor(t){this.http=t,this.gamesApiUrl="http://apis.manelme.com/replay/games",this.cardsApiUrl="http://apis.manelme.com/data/cards"}getGames(){return this.http.get(this.gamesApiUrl)}getCards(){return this.http.get(this.cardsApiUrl)}getGameById(t){return this.http.get(this.gamesApiUrl+"/"+t)}getCardByCode(t){return this.http.get(this.cardsApiUrl+"/"+t)}getCardBackground(t){let e,a,n=!1,r=!1,i=Object.entries(t.Plays);for(let s=0;s<i.length;s++)for(let t=0;t<i[s].length;t++){let o=i[s][t];for(let t=0;t<o.length&&(void 0===o[t].CardCode||"face"===o[t].CardCode||("true"==o[t].LocalPlayer&&0==n&&(e=o[t],n=!0),"false"==o[t].LocalPlayer&&0==r&&(a=o[t],r=!0),!n||!r));t++);}return[e,a]}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.a))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=a("tyNb");function c(t,e){if(1&t){const t=i.Ob();i.Nb(0,"div",7),i.Vb("click",(function(){i.fc(t);const a=e.$implicit;return i.Xb().gameDetail(a)})),i.Nb(1,"p",8),i.lc(2),i.Mb(),i.Nb(3,"p",9),i.lc(4),i.Mb(),i.Nb(5,"p",10),i.lc(6),i.Mb(),i.Mb()}if(2&t){const t=e.$implicit,a=i.Xb();i.ac("ngStyle",t.style),i.zb(2),i.oc("",t.PlayerName," vs ",t.OpponentName," "),i.zb(2),i.mc(a.textualdate(t.GameDate)),i.zb(2),i.nc("States: ",t.playsCount,"")}}let l=(()=>{class t{constructor(t,e){this.gameService=t,this.router=e}ngOnInit(){this.getGames()}getGames(){this.gameService.getGames().subscribe(t=>{this.games=t._embedded.games;for(let e=0;e<this.games.length;e++){let t=!1,a=Object.entries(this.games[e].Plays);this.games[e].playsCount=a.length;for(let n=0;n<a.length;n++){if(t){console.log(this.games[e].backgroundImage);break}for(let r=0;r<a[n].length&&!t;r++){let i=a[n][r];for(let a=0;a<i.length&&!t;a++)if(void 0!==i[a].CardCode&&"face"!==i[a].CardCode&&"true"==i[a].LocalPlayer){let n=this.gameService.getCardByCode(i[a].CardCode).subscribe(a=>{t?n.unsubscribe():"Champion"==a.supertype&&(this.games[e].style={background:"url("+a.assets[0].fullAbsolutePath+")","background-size":"contain","background-repeat":"no-repeat"},t=!0)})}}}}console.log(Object.entries(this.games[0].Plays).length)})}gameDetail(t){let e=t._links.self.href.split("/");this.router.navigate(["/games/game/"+e[e.length-1]])}textualdate(t){return new Date(t).toUTCString()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s),i.Kb(o.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-game-list"]],decls:11,vars:1,consts:[[1,"the-true-background"],[1,"main-background"],["id","loggedAs"],["id","spanMail"],["id","logout","href",""],[1,"gamesContainer"],["class","gameDetail block",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"gameDetail","block",3,"ngStyle","click"],["id","vs"],["id","gameDate"],["id","duration"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.Nb(2,"header"),i.Nb(3,"p",2),i.lc(4," You are logged as "),i.Nb(5,"span",3),i.lc(6," mehmehmeh@gmail.com\xa0 "),i.Mb(),i.Nb(7,"a",4),i.lc(8," logout "),i.Mb(),i.Mb(),i.Mb(),i.Nb(9,"div",5),i.kc(10,c,7,5,"div",6),i.Mb(),i.Mb(),i.Mb()),2&t&&(i.zb(10),i.ac("ngForOf",e.games))},directives:[n.h,n.j],styles:[".game-list[_ngcontent-%COMP%]{position:relative;margin:4rem auto 0;max-width:150rem}.main-background[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 10fr;text-align:justify;margin-top:0}.the-true-background[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#434343;background-size:50px 50px;background-image:linear-gradient(0deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent)}.gamesContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;justify-content:space-around;align-items:center;grid-gap:.8vw}.gameDetail[_ngcontent-%COMP%]{display:grid;position:relative;grid-template-columns:1fr;height:15vw;width:30vw;box-shadow:2px 2px grey,4px 4px #d3d3d3,6px 6px grey,8px 8px #d3d3d3;margin:1vw;text-align:center;text-shadow:#000 1px 1px 3px,#000 -1px -1px 3px;color:#fff;border-radius:15px;border-style:solid;transition:box-shadow .5s}#vs[_ngcontent-%COMP%]{font-size:1.35vw;font-family:Roboto}#gameDate[_ngcontent-%COMP%]{right:10px!important}#duration[_ngcontent-%COMP%], #gameDate[_ngcontent-%COMP%]{position:absolute;font-size:.99vw;bottom:10px!important}#duration[_ngcontent-%COMP%]{left:10px!important}#loggedAs[_ngcontent-%COMP%]{position:absolute;right:20px;background-color:hsla(0,0%,100%,.4);font-family:Roboto;border-radius:10px;padding:5px;border-color:#fff;border-style:groove}#spanMail[_ngcontent-%COMP%]{font-weight:700}#logout[_ngcontent-%COMP%]{border-style:solid;border-radius:10px;padding:3px;border-color:#000;background:rgba(0,0,0,.62);color:#fff}.gameDetail[_ngcontent-%COMP%]:hover{box-shadow:5px 5px grey,10px 10px #d3d3d3,15px 15px grey,20px 20px #d3d3d3}"]}),t})();var p=a("mrSG");let d=(()=>{class t{constructor(){this.propagar=new i.n}ngOnInit(){}ngOnChanges(){}back(){this.mensaje="back",this.propagar.emit(this.mensaje)}play(){this.mensaje="play",this.propagar.emit(this.mensaje)}pause(){this.mensaje="pause",this.propagar.emit(this.mensaje)}forward(){this.mensaje="forward",this.propagar.emit(this.mensaje)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-replay-controlls"]],outputs:{propagar:"propagar"},features:[i.xb],decls:13,vars:0,consts:[[1,"replayControls"],["id","back-button",3,"click"],[1,"material-icons"],["id","play-button",3,"click"],["id","pause-button",3,"click"],["id","forward-button",3,"click"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"button",1),i.Vb("click",(function(){return e.back()})),i.Nb(2,"span",2),i.lc(3," fast_rewind "),i.Mb(),i.Mb(),i.Nb(4,"button",3),i.Vb("click",(function(){return e.play()})),i.Nb(5,"span",2),i.lc(6," play_arrow "),i.Mb(),i.Mb(),i.Nb(7,"button",4),i.Vb("click",(function(){return e.pause()})),i.Nb(8,"span",2),i.lc(9," pause "),i.Mb(),i.Mb(),i.Nb(10,"button",5),i.Vb("click",(function(){return e.forward()})),i.Nb(11,"span",2),i.lc(12," fast_forward "),i.Mb(),i.Mb(),i.Mb())},styles:[".replayControls[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:.5vw;justify-content:space-around;align-items:center;place-content:center;position:absolute;bottom:10px;right:10px;background-color:rgba(0,0,0,.5);padding:10px;border-radius:10%;border:1px solid hsla(0,0%,100%,.746)}button[_ngcontent-%COMP%]{font-size:1vw!important;width:5vh;height:5vh;background-image:linear-gradient(#c49250,#c49250);border-radius:50%}button[_ngcontent-%COMP%]:hover{background-image:linear-gradient(#c49250,#fff)}"]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(){this.navW=window.innerWidth,this.navH=window.innerHeight,"face"!=this.card.CardCode?("1"==this.card.CardCode[1]&&(this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(http://dd.b.pvp.net/latest/set1/en_us/img/cards/"+this.card.CardCode+".png)","background-size":"contain","background-repeat":"no-repeat"}),"2"==this.card.CardCode[1]&&(this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(http://dd.b.pvp.net/latest/set2/en_us/img/cards/"+this.card.CardCode+".png)","background-size":"contain","background-repeat":"no-repeat"})):this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(https://vignette.wikia.nocookie.net/leagueoflegends/images/7/7e/LoR_Summoner%27s_Rift_Card_Back.png)","background-size":"contain","background-repeat":"no-repeat"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Eb({type:t,selectors:[["app-card-in-game"]],inputs:{card:"card",screenW:"screenW",screenH:"screenH"},features:[i.xb],decls:1,vars:1,consts:[[1,"card-position",3,"ngStyle"]],template:function(t,e){1&t&&i.Lb(0,"div",0),2&t&&i.ac("ngStyle",e.cardStyle)},directives:[n.j],styles:[".card-position[_ngcontent-%COMP%]{position:absolute}"]}),t})();function h(t,e){if(1&t&&i.Lb(0,"app-card-in-game",4),2&t){const t=e.$implicit,a=i.Xb();i.ac("card",t)("screenW",a.game.ScreenWidth)("screenH",a.game.ScreenHeight)}}const b=[{path:"",component:l},{path:"game/:id",component:(()=>{class t{constructor(t,e){this.gameService=t,this.activatedRoute=e,this.currentPlay=0}ngOnInit(){this.getData()}getData(){return Object(p.a)(this,void 0,void 0,(function*(){yield this.gameService.getGameById(this.activatedRoute.snapshot.paramMap.get("id")).subscribe(t=>{this.game=t,this.lastPlay=Object.entries(this.game.Plays).length})}))}back(){0!=this.currentPlay&&this.currentPlay--}forward(){this.currentPlay==this.lastPlay?this.currentPlay=0:this.currentPlay++}play(){clearInterval(this.playGame),this.playGame=setInterval(()=>{this.currentPlay<this.lastPlay?this.currentPlay++:clearInterval(this.playGame)},100)}pause(){clearInterval(this.playGame)}procesarPropagar(t){"forward"==t?this.forward():"back"==t?this.back():"play"==t?this.play():this.pause()}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(s),i.Kb(o.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-game-container"]],decls:4,vars:1,consts:[[1,"main-background"],[1,"game-list"],["class","card",3,"card","screenW","screenH",4,"ngFor","ngForOf"],[3,"propagar"],[1,"card",3,"card","screenW","screenH"]],template:function(t,e){1&t&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.kc(2,h,1,3,"app-card-in-game",2),i.Mb(),i.Nb(3,"app-replay-controlls",3),i.Vb("propagar",(function(t){return e.procesarPropagar(t)})),i.Mb(),i.Mb()),2&t&&(i.zb(2),i.ac("ngForOf",e.game.Plays[e.currentPlay]))},directives:[n.h,d,g],styles:[".title1[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;text-transform:uppercase;font-weight:400;margin:0;letter-spacing:.02em;line-height:1.25;font-size:3.6rem;color:#c49250;padding:0 10%;transition:font-size 1s;transition-delay:.5s}.title1[_ngcontent-%COMP%]:hover{font-size:5rem}.main-background[_ngcontent-%COMP%]{text-align:center;background:no-repeat url(https://static.invenglobal.com/upload/image/2020/01/22/i1579710518053578.png) 0 0;background-size:100% 100%;position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}#back-button[_ngcontent-%COMP%]{right:220px}#back-button[_ngcontent-%COMP%], #play-button[_ngcontent-%COMP%]{position:absolute;bottom:10px}#play-button[_ngcontent-%COMP%]{right:160px}#pause-button[_ngcontent-%COMP%]{position:absolute;right:100px;bottom:10px}#forward-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:10px}"]}),t})()},{path:"games",component:l}];let u=(()=>{class t{}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(b)],o.f]}),t})(),m=(()=>{class t{}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)},providers:[s],imports:[[u,r.b,n.b,o.f]]}),t})()}}]);