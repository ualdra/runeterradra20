function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{aGNX:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginModuleModule",(function(){return M}));var r,i,o,a,c,s,l=n("ofXK"),u=n("tyNb"),d=n("fXoL"),g=n("mrSG"),p=n("vkgz"),b=n("tk/3"),m=((r=function(){function e(t){_classCallCheck(this,e),this.http=t,this.apiUrl="http://apis.manelme.com/auth",this.apiCards="http://apis.manelme.com/data/cards",this.httpOptions={headers:{Accept:"*/*"}},this.isLoggedIn=!1}return _createClass(e,[{key:"signIn",value:function(e,t,n){return this.http.post("".concat(this.apiUrl,"/signin"),{username:e,password:t,email:n},this.httpOptions)}},{key:"login",value:function(e,t){return this.http.post("".concat(this.apiUrl,"/login"),{password:t,email:e},this.httpOptions)}},{key:"getToken",value:function(){var e=this;return this.localStorage.getItem("token").pipe(Object(p.a)((function(t){e.token=t,e.isLoggedIn=null!=e.token}),(function(t){e.isLoggedIn=!1})))}},{key:"getUserByToken",value:function(e){var t="".concat(this.apiUrl,"/checktoken");return console.log(e),this.http.post(t,{token:e},this.httpOptions)}},{key:"getCards",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.http.get(this.apiCards).toPromise();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"deleteUser",value:function(e){return this.http.delete(this.apiUrl+"/auth/users/2")}},{key:"isLogged",value:function(){return this.isLoggedIn}}]),e}()).\u0275fac=function(e){return new(e||r)(d.Rb(b.a))},r.\u0275prov=d.Gb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),h=function(){return["/register"]},f=function(){return["/login"]},v=function(){return["/login"]},k=[{path:"",redirectTo:"login"},{path:"login",component:(a=function(){function e(t,n){_classCallCheck(this,e),this.authenticationService=t,this.route=n,this.cards=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getCards()}},{key:"login",value:function(e,t){var n=this;this.authenticationService.login(e,t).subscribe((function(e){console.log("is logged in"),localStorage.setItem("token",e.token),n.authenticationService.deleteUser(e),n.route.navigate(["selector",{logged:!0}])}),(function(e){console.log(e)}))}},{key:"getCards",value:function(){var e=this;this.authenticationService.getCards().then((function(t){t.map((function(t){"Champion"==t.rarity&&e.cards.push(t)}))})).then((function(){e.loadBackgroundImage(Math.floor(22*Math.random()+1))}))}},{key:"loadBackgroundImage",value:function(e){document.querySelector(".login-image").style.backgroundImage="url("+this.cards[e].assets[0].fullAbsolutePath+")"}}]),e}(),a.\u0275fac=function(e){return new(e||a)(d.Kb(m),d.Kb(u.b))},a.\u0275cmp=d.Eb({type:a,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"app-login"],[1,"login-image"],[1,"login-container"],["ngModel","","type","email","placeholder","Email","formControlName","email","required","",1,"login-input"],["email",""],["ngModel","","type","password","placeholder","Password","formControlName","password","required","",1,"login-input"],["password",""],["type","button",1,"login-button",3,"click"],["routerLinkActive","router-link-active",1,"register-button",3,"routerLink"]],template:function(e,t){if(1&e){var n=d.Ob();d.Nb(0,"div",0),d.Lb(1,"div",1),d.Nb(2,"div",2),d.Lb(3,"div"),d.Nb(4,"div"),d.Nb(5,"form"),d.Nb(6,"div"),d.Nb(7,"p"),d.lc(8,"Login"),d.Mb(),d.Mb(),d.Nb(9,"div"),d.Lb(10,"input",3,4),d.Mb(),d.Nb(12,"div"),d.Lb(13,"input",5,6),d.Mb(),d.Nb(15,"div"),d.Nb(16,"button",7),d.Vb("click",(function(){d.fc(n);var e=d.ec(11),r=d.ec(14);return t.login(e.value,r.value)})),d.lc(17,"Iniciar sesi\xf3n"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(18,"div"),d.Nb(19,"p"),d.Nb(20,"a",8),d.lc(21,"Create una cuenta"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb()}2&e&&(d.zb(20),d.ac("routerLink",d.cc(1,h)))},directives:[u.e,u.d],styles:['.app-login[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:"login-image login-container";grid-template-columns:minmax(80%,20%);grid-gap:0}.login-image[_ngcontent-%COMP%]{grid-area:login-image;background-color:hsla(0,0%,50.2%,.08);background-size:cover}.login-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.login-container[_ngcontent-%COMP%]{grid-area:login-container;text-align:center;display:grid;grid-template-rows:1fr 1fr 1fr}.login-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.login-button[_ngcontent-%COMP%]{border-radius:5px;border-color:#d5d5d5;padding:7px 15px;background-color:#f5f5f5}.register-button[_ngcontent-%COMP%]{text-decoration:none;color:#000!important}']}),a)},{path:"register",component:(o=function(){function e(t,n){_classCallCheck(this,e),this.authenticationService=t,this.route=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"signIn",value:function(e,t,n){var r=this;this.authenticationService.signIn(e,n,t).subscribe((function(e){r.authenticationService.login(t,n).subscribe((function(e){r.route.navigate(["selector"])}),(function(e){console.log(e)}),(function(){}))}),(function(e){console.log(e)}))}}]),e}(),o.\u0275fac=function(e){return new(e||o)(d.Kb(m),d.Kb(u.b))},o.\u0275cmp=d.Eb({type:o,selectors:[["app-register"]],decls:25,vars:2,consts:[[1,"app-register"],[1,"register-image"],[1,"register-container"],["ngModel","","type","text","formControlName","username","placeholder","Username","required","",1,"register-input"],["username",""],["ngModel","","type","email","formControlName","email","placeholder","Email","required","",1,"register-input"],["email",""],["ngModel","","type","password","formControlName","password","placeholder","Password","required","",1,"register-input"],["password",""],["type","submit",1,"register-button",3,"click"],["routerLinkActive","router-link-active",1,"login-button",3,"routerLink"]],template:function(e,t){if(1&e){var n=d.Ob();d.Nb(0,"div",0),d.Lb(1,"div",1),d.Nb(2,"div",2),d.Lb(3,"div"),d.Nb(4,"div"),d.Nb(5,"form"),d.Nb(6,"div"),d.Nb(7,"p"),d.lc(8,"Registrate aqu\xed"),d.Mb(),d.Mb(),d.Nb(9,"div"),d.Lb(10,"input",3,4),d.Mb(),d.Nb(12,"div"),d.Lb(13,"input",5,6),d.Mb(),d.Nb(15,"div"),d.Lb(16,"input",7,8),d.Mb(),d.Nb(18,"div"),d.Nb(19,"button",9),d.Vb("click",(function(){d.fc(n);var e=d.ec(11),r=d.ec(14),i=d.ec(17);return t.signIn(e.value,r.value,i.value)})),d.lc(20,"Registrarse"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Nb(21,"div"),d.Nb(22,"p"),d.Nb(23,"a",10),d.lc(24,"Inicia sesi\xf3n con una cuenta"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb()}2&e&&(d.zb(23),d.ac("routerLink",d.cc(1,f)))},directives:[u.e,u.d],styles:['.app-register[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:"register-image register-container";grid-template-columns:minmax(80%,20%);grid-gap:0}.register-image[_ngcontent-%COMP%]{grid-area:register-image;background-color:hsla(0,0%,50.2%,.08);background-image:url(https://dd.b.pvp.net/1_0_0/set1/en_us/img/cards/01NX020-full.png);background-size:cover}.register-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.register-container[_ngcontent-%COMP%]{grid-area:register-container;text-align:center;display:grid;grid-template-rows:1fr 1fr 1fr}.register-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.register-button[_ngcontent-%COMP%]{border-radius:5px;border-color:#d5d5d5;padding:7px 15px;background-color:#f5f5f5}.login-button[_ngcontent-%COMP%]{text-decoration:none;color:#000!important}']}),o)},{path:"selector",component:(i=function(){function e(t,n){_classCallCheck(this,e),this.authenticationService=t,this.route=n,this.cards=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;null==localStorage.getItem("token")?this.route.navigate(["/login"]):(this.authenticationService.getUserByToken(localStorage.getItem("token")).subscribe((function(t){e.user=t,console.log(t)})),this.getCards())}},{key:"getCards",value:function(){var e=this;this.authenticationService.getCards().then((function(t){t.map((function(t){"Champion"==t.rarity&&e.cards.push(t)}))})).then((function(){e.loadBackgroundImage(Math.floor(22*Math.random()+1))}))}},{key:"loadBackgroundImage",value:function(e){document.querySelector(".selector-image").style.backgroundImage="url("+this.cards[e].assets[0].fullAbsolutePath+")"}},{key:"addDescriptionCardSelector",value:function(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Consult Cards</h2><p>Click here to consult the available cards on the game and see the lastest cards added</p>',document.querySelector(".description-title").style.color="orange"}},{key:"addDescriptionDeckBuilder",value:function(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Deck Builder</h2><p>Create your own deck and make your own strategies to defeat your oponents</p>',document.querySelector(".description-title").style.color="orange"}},{key:"addDescriptionMatchReplay",value:function(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Match Replay</h2><p>Review your last matches to see your greatest moves and learn from your mistakes to improve even more</p>',document.querySelector(".description-title").style.color="orange"}},{key:"deleteDescription",value:function(){document.querySelector(".text-description").style.display="none"}},{key:"signOut",value:function(){localStorage.removeItem("token")}}]),e}(),i.\u0275fac=function(e){return new(e||i)(d.Kb(m),d.Kb(u.b))},i.\u0275cmp=d.Eb({type:i,selectors:[["app-main-selector"]],decls:20,vars:2,consts:[[1,"app-selector"],[1,"text-description"],[1,"selector-image"],[1,"selector-container"],[1,"signOut"],["routerLinkActive","router-link-active",1,"selector-button",3,"routerLink","click"],[1,"card-selector"],["routerLink","/cards",1,"selector-item-card",3,"mouseenter","mouseleave"],[1,"title"],[1,"deck-builder"],[1,"selector-item-deck",3,"mouseenter","mouseleave"],[1,"match-replay"],["routerLink","/games",1,"selector-item-match",3,"mouseenter","mouseleave"]],template:function(e,t){1&e&&(d.Nb(0,"div",0),d.Lb(1,"div",1),d.Lb(2,"div",2),d.Nb(3,"div",3),d.Nb(4,"div"),d.Nb(5,"p",4),d.Nb(6,"a",5),d.Vb("click",(function(){return t.signOut()})),d.lc(7,"X"),d.Mb(),d.Mb(),d.Mb(),d.Nb(8,"div",6),d.Nb(9,"div",7),d.Vb("mouseenter",(function(){return t.addDescriptionCardSelector()}))("mouseleave",(function(){return t.deleteDescription()})),d.Nb(10,"p",8),d.lc(11,"Card Selector"),d.Mb(),d.Mb(),d.Mb(),d.Nb(12,"div",9),d.Nb(13,"div",10),d.Vb("mouseenter",(function(){return t.addDescriptionDeckBuilder()}))("mouseleave",(function(){return t.deleteDescription()})),d.Nb(14,"p",8),d.lc(15,"Deck Builder"),d.Mb(),d.Mb(),d.Mb(),d.Nb(16,"div",11),d.Nb(17,"div",12),d.Vb("mouseenter",(function(){return t.addDescriptionMatchReplay()}))("mouseleave",(function(){return t.deleteDescription()})),d.Nb(18,"p",8),d.lc(19,"Match Replay"),d.Mb(),d.Mb(),d.Mb(),d.Mb(),d.Mb()),2&e&&(d.zb(6),d.ac("routerLink",d.cc(1,v)))},directives:[u.e,u.d,u.c],styles:['.app-selector[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:" selector-image selector-container";grid-template-columns:minmax(80%,20%);grid-gap:0;background-color:#300454}.selector-image[_ngcontent-%COMP%]{grid-area:selector-image;background-color:hsla(0,0%,50.2%,.08);background-size:cover}.selector-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.title[_ngcontent-%COMP%]{align-self:center;color:#fff;display:inline-grid;margin:18%;justify-content:center}.selector-container[_ngcontent-%COMP%]{grid-area:selector-container;text-align:center;display:grid;grid-template-areas:"card-selector" "card-selector" "deck-builder" "match-replay" "match-replay";align-items:center}.card-selector[_ngcontent-%COMP%]{align-content:center;grid-area:card-selector;align-self:flex-end}.deck-builder[_ngcontent-%COMP%]{grid-area:deck-builder;align-self:center}.match-replay[_ngcontent-%COMP%]{grid-area:match-replay;align-self:flex-start}.selector-item-card[_ngcontent-%COMP%], .selector-item-deck[_ngcontent-%COMP%], .selector-item-match[_ngcontent-%COMP%]{background-size:cover;width:100%;min-width:60%;max-width:200px;margin-left:-5vw;border-radius:10px}.selector-item-deck[_ngcontent-%COMP%]{background-image:url(https://static1.millenium.gg/articles/7/11/12/7/@/52593-runeterra-article_m-1.jpg)}.selector-item-card[_ngcontent-%COMP%]{background-image:url(https://as.com/meristation/imagenes/2020/03/03/noticias/1583249217_275426_1583249507_noticia_normal.jpg)}.selector-item-match[_ngcontent-%COMP%]{background-image:url(https://oyster.ignimgs.com/wordpress/stg.ign.com/2019/10/Legends-of-Runeterra-IGN-Spell-Chain-2.jpg)}.selector-item-card[_ngcontent-%COMP%]:hover, .selector-item-deck[_ngcontent-%COMP%]:hover, .selector-item-match[_ngcontent-%COMP%]:hover{border:2px solid #daa520}.selector-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.selector-button[_ngcontent-%COMP%]{border-radius:5px;padding:7px 13px;background-color:#fff;border:1px solid #000;position:absolute;top:3%;right:1%;text-decoration:none;color:#000!important}.text-description[_ngcontent-%COMP%]{position:absolute;top:25%;left:3%;width:200px;text-shadow:#474747 1px 1px 3px,#474747 -1px -1px 3px;color:#fff;display:none}.description-title[_ngcontent-%COMP%]{color:orange}']}),i)}],y=((s=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ib({type:s}),s.\u0275inj=d.Hb({factory:function(e){return new(e||s)},imports:[[u.f.forChild(k)],u.f]}),s),M=((c=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ib({type:c}),c.\u0275inj=d.Hb({factory:function(e){return new(e||c)},providers:[m],imports:[[l.b,y,b.b]]}),c)}}]);