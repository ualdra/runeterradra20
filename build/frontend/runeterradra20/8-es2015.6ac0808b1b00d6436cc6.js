(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{aGNX:function(e,t,r){"use strict";r.r(t),r.d(t,"LoginModuleModule",(function(){return m}));var n=r("ofXK"),o=r("tyNb"),i=r("fXoL"),a=r("mrSG"),c=r("vkgz"),s=r("tk/3");let l=(()=>{class e{constructor(e){this.http=e,this.apiUrl="http://apis.manelme.com/auth",this.apiCards="http://apis.manelme.com/data/cards",this.httpOptions={headers:{Accept:"*/*"}},this.isLoggedIn=!1}signIn(e,t,r){return this.http.post(`${this.apiUrl}/signin`,{username:e,password:t,email:r},this.httpOptions)}login(e,t){return this.http.post(`${this.apiUrl}/login`,{password:t,email:e},this.httpOptions)}getToken(){return this.localStorage.getItem("token").pipe(Object(c.a)(e=>{this.token=e,this.isLoggedIn=null!=this.token},e=>{this.isLoggedIn=!1}))}getUserByToken(e){const t=`${this.apiUrl}/checktoken`;return console.log(e),this.http.post(t,{token:e},this.httpOptions)}getCards(){return Object(a.a)(this,void 0,void 0,(function*(){return yield this.http.get(this.apiCards).toPromise()}))}deleteUser(e){return this.http.delete(this.apiUrl+"/auth/users/2")}isLogged(){return this.isLoggedIn}}return e.\u0275fac=function(t){return new(t||e)(i.Rb(s.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const d=function(){return["/register"]},g=function(){return["/login"]},p=function(){return["/login"]},u=[{path:"",redirectTo:"login"},{path:"login",component:(()=>{class e{constructor(e,t){this.authenticationService=e,this.route=t,this.cards=[]}ngOnInit(){this.getCards()}login(e,t){this.authenticationService.login(e,t).subscribe(e=>{console.log("is logged in"),localStorage.setItem("token",e.token),this.authenticationService.deleteUser(e),this.route.navigate(["selector",{logged:!0}])},e=>{console.log(e)})}getCards(){this.authenticationService.getCards().then(e=>{e.map(e=>{"Champion"==e.rarity&&this.cards.push(e)})}).then(()=>{this.loadBackgroundImage(Math.floor(22*Math.random()+1))})}loadBackgroundImage(e){document.querySelector(".login-image").style.backgroundImage="url("+this.cards[e].assets[0].fullAbsolutePath+")"}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(l),i.Kb(o.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-login"]],decls:22,vars:2,consts:[[1,"app-login"],[1,"login-image"],[1,"login-container"],["ngModel","","type","email","placeholder","Email","formControlName","email","required","",1,"login-input"],["email",""],["ngModel","","type","password","placeholder","Password","formControlName","password","required","",1,"login-input"],["password",""],["type","button",1,"login-button",3,"click"],["routerLinkActive","router-link-active",1,"register-button",3,"routerLink"]],template:function(e,t){if(1&e){const e=i.Ob();i.Nb(0,"div",0),i.Lb(1,"div",1),i.Nb(2,"div",2),i.Lb(3,"div"),i.Nb(4,"div"),i.Nb(5,"form"),i.Nb(6,"div"),i.Nb(7,"p"),i.lc(8,"Login"),i.Mb(),i.Mb(),i.Nb(9,"div"),i.Lb(10,"input",3,4),i.Mb(),i.Nb(12,"div"),i.Lb(13,"input",5,6),i.Mb(),i.Nb(15,"div"),i.Nb(16,"button",7),i.Vb("click",(function(){i.fc(e);const r=i.ec(11),n=i.ec(14);return t.login(r.value,n.value)})),i.lc(17,"Iniciar sesi\xf3n"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Nb(18,"div"),i.Nb(19,"p"),i.Nb(20,"a",8),i.lc(21,"Create una cuenta"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()}2&e&&(i.zb(20),i.ac("routerLink",i.cc(1,d)))},directives:[o.e,o.d],styles:['.app-login[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:"login-image login-container";grid-template-columns:minmax(80%,20%);grid-gap:0}.login-image[_ngcontent-%COMP%]{grid-area:login-image;background-color:hsla(0,0%,50.2%,.08);background-size:cover}.login-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.login-container[_ngcontent-%COMP%]{grid-area:login-container;text-align:center;display:grid;grid-template-rows:1fr 1fr 1fr}.login-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.login-button[_ngcontent-%COMP%]{border-radius:5px;border-color:#d5d5d5;padding:7px 15px;background-color:#f5f5f5}.register-button[_ngcontent-%COMP%]{text-decoration:none;color:#000!important}']}),e})()},{path:"register",component:(()=>{class e{constructor(e,t){this.authenticationService=e,this.route=t}ngOnInit(){}signIn(e,t,r){this.authenticationService.signIn(e,r,t).subscribe(e=>{this.authenticationService.login(t,r).subscribe(e=>{this.route.navigate(["selector"])},e=>{console.log(e)},()=>{})},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(l),i.Kb(o.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-register"]],decls:25,vars:2,consts:[[1,"app-register"],[1,"register-image"],[1,"register-container"],["ngModel","","type","text","formControlName","username","placeholder","Username","required","",1,"register-input"],["username",""],["ngModel","","type","email","formControlName","email","placeholder","Email","required","",1,"register-input"],["email",""],["ngModel","","type","password","formControlName","password","placeholder","Password","required","",1,"register-input"],["password",""],["type","submit",1,"register-button",3,"click"],["routerLinkActive","router-link-active",1,"login-button",3,"routerLink"]],template:function(e,t){if(1&e){const e=i.Ob();i.Nb(0,"div",0),i.Lb(1,"div",1),i.Nb(2,"div",2),i.Lb(3,"div"),i.Nb(4,"div"),i.Nb(5,"form"),i.Nb(6,"div"),i.Nb(7,"p"),i.lc(8,"Registrate aqu\xed"),i.Mb(),i.Mb(),i.Nb(9,"div"),i.Lb(10,"input",3,4),i.Mb(),i.Nb(12,"div"),i.Lb(13,"input",5,6),i.Mb(),i.Nb(15,"div"),i.Lb(16,"input",7,8),i.Mb(),i.Nb(18,"div"),i.Nb(19,"button",9),i.Vb("click",(function(){i.fc(e);const r=i.ec(11),n=i.ec(14),o=i.ec(17);return t.signIn(r.value,n.value,o.value)})),i.lc(20,"Registrarse"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Nb(21,"div"),i.Nb(22,"p"),i.Nb(23,"a",10),i.lc(24,"Inicia sesi\xf3n con una cuenta"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()}2&e&&(i.zb(23),i.ac("routerLink",i.cc(1,g)))},directives:[o.e,o.d],styles:['.app-register[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:"register-image register-container";grid-template-columns:minmax(80%,20%);grid-gap:0}.register-image[_ngcontent-%COMP%]{grid-area:register-image;background-color:hsla(0,0%,50.2%,.08);background-image:url(https://dd.b.pvp.net/1_0_0/set1/en_us/img/cards/01NX020-full.png);background-size:cover}.register-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.register-container[_ngcontent-%COMP%]{grid-area:register-container;text-align:center;display:grid;grid-template-rows:1fr 1fr 1fr}.register-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.register-button[_ngcontent-%COMP%]{border-radius:5px;border-color:#d5d5d5;padding:7px 15px;background-color:#f5f5f5}.login-button[_ngcontent-%COMP%]{text-decoration:none;color:#000!important}']}),e})()},{path:"selector",component:(()=>{class e{constructor(e,t){this.authenticationService=e,this.route=t,this.cards=[]}ngOnInit(){null==localStorage.getItem("token")?this.route.navigate(["/login"]):(this.authenticationService.getUserByToken(localStorage.getItem("token")).subscribe(e=>{this.user=e,console.log(e)}),this.getCards())}getCards(){this.authenticationService.getCards().then(e=>{e.map(e=>{"Champion"==e.rarity&&this.cards.push(e)})}).then(()=>{this.loadBackgroundImage(Math.floor(22*Math.random()+1))})}loadBackgroundImage(e){document.querySelector(".selector-image").style.backgroundImage="url("+this.cards[e].assets[0].fullAbsolutePath+")"}addDescriptionCardSelector(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Consult Cards</h2><p>Click here to consult the available cards on the game and see the lastest cards added</p>',document.querySelector(".description-title").style.color="orange"}addDescriptionDeckBuilder(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Deck Builder</h2><p>Create your own deck and make your own strategies to defeat your oponents</p>',document.querySelector(".description-title").style.color="orange"}addDescriptionMatchReplay(){var e=document.querySelector(".text-description");e.style.display="block",e.innerHTML='<h2 class="description-title">Match Replay</h2><p>Review your last matches to see your greatest moves and learn from your mistakes to improve even more</p>',document.querySelector(".description-title").style.color="orange"}deleteDescription(){document.querySelector(".text-description").style.display="none"}signOut(){localStorage.removeItem("token")}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(l),i.Kb(o.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-main-selector"]],decls:20,vars:2,consts:[[1,"app-selector"],[1,"text-description"],[1,"selector-image"],[1,"selector-container"],[1,"signOut"],["routerLinkActive","router-link-active",1,"selector-button",3,"routerLink","click"],[1,"card-selector"],["routerLink","/cards",1,"selector-item-card",3,"mouseenter","mouseleave"],[1,"title"],[1,"deck-builder"],[1,"selector-item-deck",3,"mouseenter","mouseleave"],[1,"match-replay"],["routerLink","/games",1,"selector-item-match",3,"mouseenter","mouseleave"]],template:function(e,t){1&e&&(i.Nb(0,"div",0),i.Lb(1,"div",1),i.Lb(2,"div",2),i.Nb(3,"div",3),i.Nb(4,"div"),i.Nb(5,"p",4),i.Nb(6,"a",5),i.Vb("click",(function(){return t.signOut()})),i.lc(7,"X"),i.Mb(),i.Mb(),i.Mb(),i.Nb(8,"div",6),i.Nb(9,"div",7),i.Vb("mouseenter",(function(){return t.addDescriptionCardSelector()}))("mouseleave",(function(){return t.deleteDescription()})),i.Nb(10,"p",8),i.lc(11,"Card Selector"),i.Mb(),i.Mb(),i.Mb(),i.Nb(12,"div",9),i.Nb(13,"div",10),i.Vb("mouseenter",(function(){return t.addDescriptionDeckBuilder()}))("mouseleave",(function(){return t.deleteDescription()})),i.Nb(14,"p",8),i.lc(15,"Deck Builder"),i.Mb(),i.Mb(),i.Mb(),i.Nb(16,"div",11),i.Nb(17,"div",12),i.Vb("mouseenter",(function(){return t.addDescriptionMatchReplay()}))("mouseleave",(function(){return t.deleteDescription()})),i.Nb(18,"p",8),i.lc(19,"Match Replay"),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&e&&(i.zb(6),i.ac("routerLink",i.cc(1,p)))},directives:[o.e,o.d,o.c],styles:['.app-selector[_ngcontent-%COMP%]{height:100vh;display:grid;grid-template-areas:" selector-image selector-container";grid-template-columns:minmax(80%,20%);grid-gap:0;background-color:#300454}.selector-image[_ngcontent-%COMP%]{grid-area:selector-image;background-color:hsla(0,0%,50.2%,.08);background-size:cover}.selector-main-container[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px}.title[_ngcontent-%COMP%]{align-self:center;color:#fff;display:inline-grid;margin:18%;justify-content:center}.selector-container[_ngcontent-%COMP%]{grid-area:selector-container;text-align:center;display:grid;grid-template-areas:"card-selector" "card-selector" "deck-builder" "match-replay" "match-replay";align-items:center}.card-selector[_ngcontent-%COMP%]{align-content:center;grid-area:card-selector;align-self:flex-end}.deck-builder[_ngcontent-%COMP%]{grid-area:deck-builder;align-self:center}.match-replay[_ngcontent-%COMP%]{grid-area:match-replay;align-self:flex-start}.selector-item-card[_ngcontent-%COMP%], .selector-item-deck[_ngcontent-%COMP%], .selector-item-match[_ngcontent-%COMP%]{background-size:cover;width:100%;min-width:60%;max-width:200px;margin-left:-5vw;border-radius:10px}.selector-item-deck[_ngcontent-%COMP%]{background-image:url(https://static1.millenium.gg/articles/7/11/12/7/@/52593-runeterra-article_m-1.jpg)}.selector-item-card[_ngcontent-%COMP%]{background-image:url(https://as.com/meristation/imagenes/2020/03/03/noticias/1583249217_275426_1583249507_noticia_normal.jpg)}.selector-item-match[_ngcontent-%COMP%]{background-image:url(https://oyster.ignimgs.com/wordpress/stg.ign.com/2019/10/Legends-of-Runeterra-IGN-Spell-Chain-2.jpg)}.selector-item-card[_ngcontent-%COMP%]:hover, .selector-item-deck[_ngcontent-%COMP%]:hover, .selector-item-match[_ngcontent-%COMP%]:hover{border:2px solid #daa520}.selector-input[_ngcontent-%COMP%]{border:none;margin:10px;border-radius:5px;padding:11px;background-color:hsla(0,0%,50.2%,.28)}.selector-button[_ngcontent-%COMP%]{border-radius:5px;padding:7px 13px;background-color:#fff;border:1px solid #000;position:absolute;top:3%;right:1%;text-decoration:none;color:#000!important}.text-description[_ngcontent-%COMP%]{position:absolute;top:25%;left:3%;width:200px;text-shadow:#474747 1px 1px 3px,#474747 -1px -1px 3px;color:#fff;display:none}.description-title[_ngcontent-%COMP%]{color:orange}']}),e})()}];let b=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},imports:[[o.f.forChild(u)],o.f]}),e})(),m=(()=>{class e{}return e.\u0275mod=i.Ib({type:e}),e.\u0275inj=i.Hb({factory:function(t){return new(t||e)},providers:[l],imports:[[n.b,b,s.b]]}),e})()}}]);