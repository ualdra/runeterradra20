function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{FIae:function(t,e,n){"use strict";n.r(e),n.d(e,"GameReplayModule",(function(){return w}));var a,r=n("ofXK"),i=n("tk/3"),o=n("fXoL"),s=((a=function(){function t(e){_classCallCheck(this,t),this.http=e,this.gamesApiUrl="http://apis.manelme.com/replay/games",this.cardsApiUrl="http://apis.manelme.com/data/cards"}return _createClass(t,[{key:"getGames",value:function(){return this.http.get(this.gamesApiUrl)}},{key:"getCards",value:function(){return this.http.get(this.cardsApiUrl)}},{key:"getGameById",value:function(t){return this.http.get(this.gamesApiUrl+"/"+t)}},{key:"getCardByCode",value:function(t){return this.http.get(this.cardsApiUrl+"/"+t)}},{key:"getCardBackground",value:function(t){for(var e,n,a=!1,r=!1,i=Object.entries(t.Plays),o=0;o<i.length;o++)for(var s=0;s<i[o].length;s++)for(var c=i[o][s],l=0;l<c.length&&(void 0===c[l].CardCode||"face"===c[l].CardCode||("true"==c[l].LocalPlayer&&0==a&&(e=c[l],a=!0),"false"==c[l].LocalPlayer&&0==r&&(n=c[l],r=!0),!a||!r));l++);return[e,n]}}]),t}()).\u0275fac=function(t){return new(t||a)(o.Rb(i.a))},a.\u0275prov=o.Gb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),c=n("tyNb");function l(t,e){if(1&t){var n=o.Ob();o.Nb(0,"div",7),o.Vb("click",(function(){o.fc(n);var t=e.$implicit;return o.Xb().gameDetail(t)})),o.Nb(1,"p",8),o.lc(2),o.Mb(),o.Nb(3,"p",9),o.lc(4),o.Mb(),o.Nb(5,"p",10),o.lc(6),o.Mb(),o.Mb()}if(2&t){var a=e.$implicit,r=o.Xb();o.ac("ngStyle",a.style),o.zb(2),o.oc("",a.PlayerName," vs ",a.OpponentName," "),o.zb(2),o.mc(r.textualdate(a.GameDate)),o.zb(2),o.nc("States: ",a.playsCount,"")}}var p,u,d,g=((p=function(){function t(e,n){_classCallCheck(this,t),this.gameService=e,this.router=n}return _createClass(t,[{key:"ngOnInit",value:function(){this.getGames()}},{key:"getGames",value:function(){var t=this;this.gameService.getGames().subscribe((function(e){t.games=e._embedded.games;for(var n=function(e){var n=!1,a=Object.entries(t.games[e].Plays);t.games[e].playsCount=a.length;for(var r=0;r<a.length;r++){if(n){console.log(t.games[e].backgroundImage);break}for(var i=0;i<a[r].length&&!n;i++)for(var o=a[r][i],s=0;s<o.length&&!n;s++)void 0!==o[s].CardCode&&"face"!==o[s].CardCode&&"true"==o[s].LocalPlayer&&function(){var a=t.gameService.getCardByCode(o[s].CardCode).subscribe((function(r){n?a.unsubscribe():"Champion"==r.supertype&&(t.games[e].style={background:"url("+r.assets[0].fullAbsolutePath+")","background-size":"contain","background-repeat":"no-repeat"},n=!0)}))}()}},a=0;a<t.games.length;a++)n(a);console.log(Object.entries(t.games[0].Plays).length)}))}},{key:"gameDetail",value:function(t){var e=t._links.self.href.split("/");this.router.navigate(["/games/game/"+e[e.length-1]])}},{key:"textualdate",value:function(t){return new Date(t).toUTCString()}}]),t}()).\u0275fac=function(t){return new(t||p)(o.Kb(s),o.Kb(c.b))},p.\u0275cmp=o.Eb({type:p,selectors:[["app-game-list"]],decls:11,vars:1,consts:[[1,"the-true-background"],[1,"main-background"],["id","loggedAs"],["id","spanMail"],["id","logout","href",""],[1,"gamesContainer"],["class","gameDetail block",3,"ngStyle","click",4,"ngFor","ngForOf"],[1,"gameDetail","block",3,"ngStyle","click"],["id","vs"],["id","gameDate"],["id","duration"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.Nb(2,"header"),o.Nb(3,"p",2),o.lc(4," You are logged as "),o.Nb(5,"span",3),o.lc(6," mehmehmeh@gmail.com\xa0 "),o.Mb(),o.Nb(7,"a",4),o.lc(8," logout "),o.Mb(),o.Mb(),o.Mb(),o.Nb(9,"div",5),o.kc(10,l,7,5,"div",6),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.zb(10),o.ac("ngForOf",e.games))},directives:[r.h,r.j],styles:[".game-list[_ngcontent-%COMP%]{position:relative;margin:4rem auto 0;max-width:150rem}.main-background[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 10fr;text-align:justify;margin-top:0}.the-true-background[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#434343;background-size:50px 50px;background-image:linear-gradient(0deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,hsla(0,0%,100%,.05) 25%,hsla(0,0%,100%,.05) 26%,transparent 27%,transparent 74%,hsla(0,0%,100%,.05) 75%,hsla(0,0%,100%,.05) 76%,transparent 77%,transparent)}.gamesContainer[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;justify-content:space-around;align-items:center;grid-gap:.8vw}.gameDetail[_ngcontent-%COMP%]{display:grid;position:relative;grid-template-columns:1fr;height:15vw;width:30vw;box-shadow:2px 2px grey,4px 4px #d3d3d3,6px 6px grey,8px 8px #d3d3d3;margin:1vw;text-align:center;text-shadow:#000 1px 1px 3px,#000 -1px -1px 3px;color:#fff;border-radius:15px;border-style:solid;transition:box-shadow .5s}#vs[_ngcontent-%COMP%]{font-size:1.35vw;font-family:Roboto}#gameDate[_ngcontent-%COMP%]{right:10px!important}#duration[_ngcontent-%COMP%], #gameDate[_ngcontent-%COMP%]{position:absolute;font-size:.99vw;bottom:10px!important}#duration[_ngcontent-%COMP%]{left:10px!important}#loggedAs[_ngcontent-%COMP%]{position:absolute;right:20px;background-color:hsla(0,0%,100%,.4);font-family:Roboto;border-radius:10px;padding:5px;border-color:#fff;border-style:groove}#spanMail[_ngcontent-%COMP%]{font-weight:700}#logout[_ngcontent-%COMP%]{border-style:solid;border-radius:10px;padding:3px;border-color:#000;background:rgba(0,0,0,.62);color:#fff}.gameDetail[_ngcontent-%COMP%]:hover{box-shadow:5px 5px grey,10px 10px #d3d3d3,15px 15px grey,20px 20px #d3d3d3}"]}),p),h=n("mrSG"),b=((d=function(){function t(){_classCallCheck(this,t),this.propagar=new o.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){}},{key:"back",value:function(){this.mensaje="back",this.propagar.emit(this.mensaje)}},{key:"play",value:function(){this.mensaje="play",this.propagar.emit(this.mensaje)}},{key:"pause",value:function(){this.mensaje="pause",this.propagar.emit(this.mensaje)}},{key:"forward",value:function(){this.mensaje="forward",this.propagar.emit(this.mensaje)}}]),t}()).\u0275fac=function(t){return new(t||d)},d.\u0275cmp=o.Eb({type:d,selectors:[["app-replay-controlls"]],outputs:{propagar:"propagar"},features:[o.xb],decls:13,vars:0,consts:[[1,"replayControls"],["id","back-button",3,"click"],[1,"material-icons"],["id","play-button",3,"click"],["id","pause-button",3,"click"],["id","forward-button",3,"click"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"button",1),o.Vb("click",(function(){return e.back()})),o.Nb(2,"span",2),o.lc(3," fast_rewind "),o.Mb(),o.Mb(),o.Nb(4,"button",3),o.Vb("click",(function(){return e.play()})),o.Nb(5,"span",2),o.lc(6," play_arrow "),o.Mb(),o.Mb(),o.Nb(7,"button",4),o.Vb("click",(function(){return e.pause()})),o.Nb(8,"span",2),o.lc(9," pause "),o.Mb(),o.Mb(),o.Nb(10,"button",5),o.Vb("click",(function(){return e.forward()})),o.Nb(11,"span",2),o.lc(12," fast_forward "),o.Mb(),o.Mb(),o.Mb())},styles:[".replayControls[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:.5vw;justify-content:space-around;align-items:center;place-content:center;position:absolute;bottom:10px;right:10px;background-color:rgba(0,0,0,.5);padding:10px;border-radius:10%;border:1px solid hsla(0,0%,100%,.746)}button[_ngcontent-%COMP%]{font-size:1vw!important;width:5vh;height:5vh;background-image:linear-gradient(#c49250,#c49250);border-radius:50%}button[_ngcontent-%COMP%]:hover{background-image:linear-gradient(#c49250,#fff)}"]}),d),f=((u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.navW=window.innerWidth,this.navH=window.innerHeight,"face"!=this.card.CardCode?("1"==this.card.CardCode[1]&&(this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(http://dd.b.pvp.net/latest/set1/en_us/img/cards/"+this.card.CardCode+".png)","background-size":"contain","background-repeat":"no-repeat"}),"2"==this.card.CardCode[1]&&(this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(http://dd.b.pvp.net/latest/set2/en_us/img/cards/"+this.card.CardCode+".png)","background-size":"contain","background-repeat":"no-repeat"})):this.cardStyle={bottom:this.card.TopLeftY*this.navH/this.screenH-this.card.Height*this.navW/this.screenW+"px",left:this.card.TopLeftX*this.navW/this.screenW+"px",height:this.card.Height*this.navW/this.screenW+"px",width:this.card.Width*this.navW/this.screenW+"px",background:"url(https://vignette.wikia.nocookie.net/leagueoflegends/images/7/7e/LoR_Summoner%27s_Rift_Card_Back.png)","background-size":"contain","background-repeat":"no-repeat"}}}]),t}()).\u0275fac=function(t){return new(t||u)},u.\u0275cmp=o.Eb({type:u,selectors:[["app-card-in-game"]],inputs:{card:"card",screenW:"screenW",screenH:"screenH"},features:[o.xb],decls:1,vars:1,consts:[[1,"card-position",3,"ngStyle"]],template:function(t,e){1&t&&o.Lb(0,"div",0),2&t&&o.ac("ngStyle",e.cardStyle)},directives:[r.j],styles:[".card-position[_ngcontent-%COMP%]{position:absolute}"]}),u);function m(t,e){if(1&t&&o.Lb(0,"app-card-in-game",4),2&t){var n=e.$implicit,a=o.Xb();o.ac("card",n)("screenW",a.game.ScreenWidth)("screenH",a.game.ScreenHeight)}}var v,y,k,C=[{path:"",component:g},{path:"game/:id",component:(v=function(){function t(e,n){_classCallCheck(this,t),this.gameService=e,this.activatedRoute=n,this.currentPlay=0}return _createClass(t,[{key:"ngOnInit",value:function(){this.getData()}},{key:"getData",value:function(){return Object(h.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.gameService.getGameById(this.activatedRoute.snapshot.paramMap.get("id")).subscribe((function(t){e.game=t,e.lastPlay=Object.entries(e.game.Plays).length}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"back",value:function(){0!=this.currentPlay&&this.currentPlay--}},{key:"forward",value:function(){this.currentPlay==this.lastPlay?this.currentPlay=0:this.currentPlay++}},{key:"play",value:function(){var t=this;clearInterval(this.playGame),this.playGame=setInterval((function(){t.currentPlay<t.lastPlay?t.currentPlay++:clearInterval(t.playGame)}),100)}},{key:"pause",value:function(){clearInterval(this.playGame)}},{key:"procesarPropagar",value:function(t){"forward"==t?this.forward():"back"==t?this.back():"play"==t?this.play():this.pause()}}]),t}(),v.\u0275fac=function(t){return new(t||v)(o.Kb(s),o.Kb(c.a))},v.\u0275cmp=o.Eb({type:v,selectors:[["app-game-container"]],decls:4,vars:1,consts:[[1,"main-background"],[1,"game-list"],["class","card",3,"card","screenW","screenH",4,"ngFor","ngForOf"],[3,"propagar"],[1,"card",3,"card","screenW","screenH"]],template:function(t,e){1&t&&(o.Nb(0,"div",0),o.Nb(1,"div",1),o.kc(2,m,1,3,"app-card-in-game",2),o.Mb(),o.Nb(3,"app-replay-controlls",3),o.Vb("propagar",(function(t){return e.procesarPropagar(t)})),o.Mb(),o.Mb()),2&t&&(o.zb(2),o.ac("ngForOf",e.game.Plays[e.currentPlay]))},directives:[r.h,b,f],styles:[".title1[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;text-transform:uppercase;font-weight:400;margin:0;letter-spacing:.02em;line-height:1.25;font-size:3.6rem;color:#c49250;padding:0 10%;transition:font-size 1s;transition-delay:.5s}.title1[_ngcontent-%COMP%]:hover{font-size:5rem}.main-background[_ngcontent-%COMP%]{text-align:center;background:no-repeat url(https://static.invenglobal.com/upload/image/2020/01/22/i1579710518053578.png) 0 0;background-size:100% 100%;position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}#back-button[_ngcontent-%COMP%]{right:220px}#back-button[_ngcontent-%COMP%], #play-button[_ngcontent-%COMP%]{position:absolute;bottom:10px}#play-button[_ngcontent-%COMP%]{right:160px}#pause-button[_ngcontent-%COMP%]{position:absolute;right:100px;bottom:10px}#forward-button[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:10px}"]}),v)},{path:"games",component:g}],x=((k=function t(){_classCallCheck(this,t)}).\u0275mod=o.Ib({type:k}),k.\u0275inj=o.Hb({factory:function(t){return new(t||k)},imports:[[c.f.forChild(C)],c.f]}),k),w=((y=function t(){_classCallCheck(this,t)}).\u0275mod=o.Ib({type:y}),y.\u0275inj=o.Hb({factory:function(t){return new(t||y)},providers:[s],imports:[[x,i.b,r.b,c.f]]}),y)}}]);